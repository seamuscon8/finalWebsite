{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/seamus/BootCamp/bootcamp-project-2025/milestone-4/src/components/commentForm.tsx"],"sourcesContent":["\"use client\"\nimport React from \"react\";\nimport {useState} from \"react\";\nimport { useRouter } from \"next/navigation\";\ntype CommentFormProps = {\n    slug: string;\n};\n\nexport default function CommentForm({slug}: CommentFormProps){\n    const router = useRouter();\n    \n    const [user,setUser] = useState(\"\");\n    const [text, setText] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [error,setError] = useState<string |null>(null);\n\n\n    async function handleSubmit(e: React.FormEvent){\n        e.preventDefault();\n        setError(null);\n        setLoading(true);\n        \n\n\n\n        try {\n      \n\n\t\t \n\n            const res = await fetch(`/api/blogs/${slug}/comments`, {\n                method: \"POST\",\n                headers: {\n                     \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    user,\n                    comment: text,\n                }),\n             });\n            \n            \n            if (!res.ok) {\n                const data = await res.json().catch(() => ({}));\n                throw new Error(data.message || \"Failed to post comment\");\n            }\n\n\n            setUser(\"\");\n            setText(\"\");\n            router.refresh();\n        } catch (err: any) {\n        console.error(err);\n        setError(err.message || \"Something went wrong\");\n        } finally {\n        setLoading(false);\n        }\n\n     }\n\n\n    return (\n    <form onSubmit={handleSubmit} style={{ marginTop: \"1rem\" }}>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n\n      <div>\n        <label>\n          Name:\n          <input\n            value={user}\n            onChange={(e) => setUser(e.target.value)}\n            required\n          />\n        </label>\n      </div>\n\n      <div>\n        <label>\n          Comment:\n          <textarea\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n            required\n          />\n        </label>\n      </div>\n\n      <button type=\"submit\" disabled={loading}>\n        {loading ? \"Posting...\" : \"Post Comment\"}\n      </button>\n    </form>\n  );\n\n\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAQe,SAAS,YAAY,EAAC,IAAI,EAAmB;IACxD,MAAM,SAAS,IAAA,4MAAS;IAExB,MAAM,CAAC,MAAK,QAAQ,GAAG,IAAA,8QAAQ,EAAC;IAChC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8QAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8QAAQ,EAAC;IACvC,MAAM,CAAC,OAAM,SAAS,GAAG,IAAA,8QAAQ,EAAe;IAGhD,eAAe,aAAa,CAAkB;QAC1C,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAKX,IAAI;YAKA,MAAM,MAAM,MAAM,MAAM,CAAC,WAAW,EAAE,KAAK,SAAS,CAAC,EAAE;gBACnD,QAAQ;gBACR,SAAS;oBACJ,gBAAgB;gBACrB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACjB;oBACA,SAAS;gBACb;YACH;YAGD,IAAI,CAAC,IAAI,EAAE,EAAE;gBACT,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC7C,MAAM,IAAI,MAAM,KAAK,OAAO,IAAI;YACpC;YAGA,QAAQ;YACR,QAAQ;YACR,OAAO,OAAO;QAClB,EAAE,OAAO,KAAU;YACnB,QAAQ,KAAK,CAAC;YACd,SAAS,IAAI,OAAO,IAAI;QACxB,SAAU;YACV,WAAW;QACX;IAEH;IAGD,qBACA,2SAAC;QAAK,UAAU;QAAc,OAAO;YAAE,WAAW;QAAO;;YACtD,uBAAS,2SAAC;gBAAE,OAAO;oBAAE,OAAO;gBAAM;0BAAI;;;;;;0BAEvC,2SAAC;0BACC,cAAA,2SAAC;;wBAAM;sCAEL,2SAAC;4BACC,OAAO;4BACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4BACvC,QAAQ;;;;;;;;;;;;;;;;;0BAKd,2SAAC;0BACC,cAAA,2SAAC;;wBAAM;sCAEL,2SAAC;4BACC,OAAO;4BACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4BACvC,QAAQ;;;;;;;;;;;;;;;;;0BAKd,2SAAC;gBAAO,MAAK;gBAAS,UAAU;0BAC7B,UAAU,eAAe;;;;;;;;;;;;AAMlC","debugId":null}}]
}